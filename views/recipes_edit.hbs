{{#extends "base"}}

{{#block "content"}}

<h2 class="mt-3">Edit Recipe</h2>

<form action="/recipes/{{recipe.recipe_id}}/update" method="POST">
  <div class="mb-3">
    <label for="menu_item_id" class="form-label">Menu Item</label>
    <select name="menu_item_id" id="menu_item_id" class="form-select" required>
      {{#each menuItems}}
        <option value="{{this.menu_item_id}}" {{#if (eq this.menu_item_id ../recipe.menu_item_id)}}selected{{/if}}>
          {{this.menu_item_name}}
        </option>
      {{/each}}
    </select>
  </div>

  <div class="mb-3">
    <label for="inv_item_id" class="form-label">Inventory Item</label>
    <select name="inv_item_id" id="inv_item_id" class="form-select" required>
      {{#each inventoryItems}}
        <option value="{{this.inv_item_id}}" {{#if (eq this.inv_item_id ../recipe.inv_item_id)}}selected{{/if}}>
          {{this.inv_item_name}}
        </option>
      {{/each}}
    </select>
  </div>

  <div class="mb-3">
    <label for="ingredients" class="form-label">Ingredient Name</label>
    <input type="text" name="ingredients" id="ingredients" class="form-control" value="{{recipe.ingredients}}" required>
  </div>

  <div class="mb-3">
    <label for="quantity" class="form-label">Quantity</label>
    <input type="number" step="0.01" name="quantity" id="quantity" class="form-control" value="{{recipe.quantity}}" required>
  </div>

  <div class="mb-3">
    <label for="rec_ing_uom" class="form-label">Unit of Measurement</label>
    <input type="text" name="rec_ing_uom" id="rec_ing_uom" class="form-control" value="{{recipe.rec_ing_uom}}" required>
  </div>

  <div class="mb-3">
    <label for="rec_desc" class="form-label">Recipe Description / Steps</label>
    <textarea name="rec_desc" id="rec_desc" rows="4" class="form-control" required>{{recipe.rec_desc}}</textarea>
  </div>

  <button type="submit" class="btn btn-primary">Update Recipe</button>
  <a href="/recipes" class="btn btn-secondary">Cancel</a>
</form>
{{/block}}

{{/extends}}
