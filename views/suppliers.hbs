{{#extends "base"}}

{{#block "content"}}

<h2 class="mt-3">All Suppliers</h2>
<br>
<div>
    <a href="/suppliers/create" class="btn btn-success">Create New Supplier</a>
</div>
<br>

<table class="table table-bordered">
    <thead class="thead-light">
        <tr>

            <th>Supplier Name</th>
            <th>Contact Person</th>
            <th>Email</th>
            <th>Supplier Since</th>
            <th>Is Active</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {{#each suppliers}}
        <tr>
            <td>{{this.supplier_name}}</td>
            <td>{{this.supplier_contact_person}}</td>
            <td>{{this.supplier_email}}</td>
            <td>{{formatDate this.supplier_created_at}}</td>

            <td>
                <form action="/suppliers/{{this.shop_supplier_id}}/toggle-active" method="POST" style="display:inline;">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" name="is_active" onchange="this.form.submit()"
                            {{#if this.is_active}}checked{{/if}}>
                    </div>
                </form>
            </td>


            <td>
                <a href="/suppliers/{{this.supplier_id}}/update" class="btn btn-primary btn-sm">Edit</a>
                <a href="/suppliers/{{this.supplier_id}}/delete" class="btn btn-danger btn-sm"
                    onclick="return confirm('Are you sure you want to delete this supplier?');">
                    Delete
                </a>
                <a href="/suppliers/{{this.supplier_id}}/ordering" class="btn btn-warning btn-sm">Stock Ordering</a>
            </td>
        </tr>
        {{/each}}
    </tbody>
</table>

{{/block}}

{{/extends}}