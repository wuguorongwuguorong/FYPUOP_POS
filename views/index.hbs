{{#extends "base"}}

{{#block "content"}}
<h2 class="mt-4 mb-3">Admin Dashboard</h2>

<!-- Low Stock Items Section -->
<div class="section">
  <h3>Low Stock Items</h3>
  <table class="table table-bordered">
    <thead class="table-light">
      <tr>
        <th>Item Name</th>
        <th>Current Quantity</th>
      </tr>
    </thead>
    <tbody>
      {{#each lowStockItems}}
        <tr>
          <td>{{this.inv_item_name}}</td>
          <td>{{this.inv_item_current_quantity}}</td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</div>

<!-- Daily Sales Section -->
<div class="section">
  <h3>Daily Sales</h3>
  <p>Total Sales for Yesterday: ${{dailySales}}</p>
</div>

<!-- Most Ordered Menu Items Section -->
<div class="section">
  <h3>Most Ordered Menu for Yesterday</h3>
  <ul>
    {{#each mostOrderedMenu}}
      <li>{{this.menu_item_name}} - Ordered {{this.order_count}} times</li>
    {{/each}}
  </ul>
</div>

<!-- Transactions for the Current Month Section -->
<div class="section">
  <h3>Transactions for the Current Month</h3>
  <table class="table table-bordered">
    <thead class="table-light">
      <tr>
        <th>Order ID</th>
        <th>Status</th>
        <th>Total Amount</th>
        <th>Payment Method</th>
        <th>Order Date</th>
      </tr>
    </thead>
    <tbody>
      {{#each transactionsCurrentMonth}}
        <tr>
          <td>{{this.order_id}}</td>
          <td>{{this.status}}</td>
          <td>${{this.supply_total_amount}}</td>
          <td>{{this.payment_method}}</td>
          <td>{{formatDate this.order_date}}</td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</div>

{{/block}}

{{/extends}}