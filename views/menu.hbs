{{#extends "base"}}

{{#block "js"}}

{{/block}}

{{#block "content"}}


<h2 class="mt-3">All Menu Items</h2>
<br>
<div>
    <a href="/menu/create" class="btn btn-success">Create New Menu</a>
</div>
<br>

<table class="table table-bordered">
    <thead class="thead-light">
        <tr>
            <th>ID</th>
            <th>Item Name</th>
            <th>Price</th>
            <th>In Store</th>
            <th>Image</th>
            <th>Updated</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {{#each allMenu}}
        <tr>
            <td>{{this.menu_item_id}}</td>
            <td>{{this.menu_item_name}}</td>
            <td>${{this.menu_item_price}}</td>
            <td>
                <form action="/menu/{{this.menu_item_id}}/toggle-active" method="POST" style="display:inline;">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" name="is_active" onchange="this.form.submit()"
                            {{#if this.is_active}}checked{{/if}}>
                    </div>
                </form>
            </td>
            <td>
                <img src="{{this.image_url}}" alt="{{this.menu_item_name}}" style="width: 100px; height: auto;">
            </td>

            <td>{{formatDate this.updated_at}}</td>
            <td>
                <a href="/menu/{{this.menu_item_id}}/update" class="btn btn-primary btn-sm">Edit</a>
                <a href="/menu/{{this.menu_item_id}}/delete" class="btn btn-danger btn-sm"
                    onclick="return confirm('Are you sure you want to delete this item?');">
                    Delete
                </a>

            </td>
        </tr>
        {{/each}}
    </tbody>
</table>



{{/block}}

{{/extends}}